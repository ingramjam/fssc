<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSSC - The Fantasy Sports Supreme Court</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
<style>
    /* --- Root Color Palette & Config --- */
    :root {
        --fssc-navy: #1A237E; /* Deep Navy Blue */
        --fssc-gold: #FFD700; /* Rich Gold */
        --fssc-burgundy: #8B0000; /* Deep Burgundy/Crimson */
        --fssc-dark-grey: #333333; /* Dark Grey for Bot Header */
        --fssc-dark-text: #212121;
        --fssc-light-text: #FFFFFF;
        --fssc-body-bg: #f4f7f6; /* Light grey for page background */
        --fssc-header-height: 70px; /* Adjusted header height */
    }

    /* --- 1. Global Page Styles --- */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        scroll-behavior: smooth; /* For smooth scrolling */
    }

    body {
        font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-color: var(--fssc-body-bg);
        color: var(--fssc-dark-text);
        line-height: 1.6;
        overflow-x: hidden; /* Prevent horizontal scroll */
    }

    .container {
        width: 100%;
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 20px;
    }

    h1, h2, h3 {
        font-weight: 700;
        color: var(--fssc-navy);
    }
    
    h2 {
        font-size: 2.5em; /* Base size */
        text-align: center;
        margin-bottom: 40px;
        font-weight: 900;
    }

    h3 {
        font-size: 1.5em;
        color: var(--fssc-burgundy);
        margin-bottom: 15px;
    }

    section {
        padding: 60px 0; /* Base padding */
    }

    /* --- 2. Navigation Bar --- */
    .navbar {
        background-color: var(--fssc-navy);
        color: var(--fssc-light-text);
        padding: 15px 0;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        height: var(--fssc-header-height);
    }
    
    .navbar .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 100%;
    }

    .navbar-brand {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.4em;
        font-weight: 700;
        text-decoration: none;
        color: var(--fssc-light-text);
    }
    .navbar-brand img {
        height: 40px;
        width: auto;
    }
    .nav-links {
        list-style: none;
        display: flex;
        gap: 25px;
    }
    .nav-links a {
        color: var(--fssc-light-text);
        text-decoration: none;
        font-weight: 500;
        padding: 5px 10px;
        border-radius: 4px;
        transition: background-color 0.3s ease;
    }
    .nav-links a:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }
    .nav-links a.cta-button {
        background-color: var(--fssc-gold);
        color: var(--fssc-dark-text);
        font-weight: 700;
    }
    .nav-links a.cta-button:hover {
        background-color: #E6C200;
    }
    
    /* Mobile Nav Toggle */
    .nav-toggle {
        display: none; /* Hidden by default */
        background: none;
        border: none;
        cursor: pointer;
    }
    .nav-toggle .hamburger {
        display: block;
        width: 25px;
        height: 3px;
        background-color: var(--fssc-light-text);
        margin: 5px 0;
        transition: all 0.3s ease;
    }

    /* --- 3. Hero Section --- */
    .hero-section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        min-height: 80vh;
        padding-top: var(--fssc-header-height); /* Offset for fixed navbar */
        /* NEW AI GAVEL IMAGE */
        background-image: linear-gradient(rgba(26, 35, 126, 0.7), rgba(26, 35, 126, 0.7)), url('https://github.com/ingramjam/fssc/blob/main/Image_fx%20(30).jpg?raw=true');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: var(--fssc-light-text);
    }
    .hero-section h1 {
        font-size: 3.5em; /* Base size */
        font-weight: 900;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        color: var(--fssc-light-text);
    }
    .hero-section p {
        font-size: 1.4em; /* Base size */
        margin-bottom: 30px;
        font-weight: 300;
    }
    .hero-cta {
        background-color: var(--fssc-gold);
        color: var(--fssc-dark-text);
        text-decoration: none;
        padding: 15px 30px;
        font-size: 1.2em;
        font-weight: 700;
        border-radius: 5px;
        transition: background-color 0.3s ease, transform 0.2s ease;
        text-transform: uppercase;
    }
    .hero-cta:hover {
        background-color: #E6C200;
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    /* --- 4. About / Services Section --- */
    #about { background-color: #fff; }
    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
    }
    .service-card {
        background-color: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        border-top: 5px solid var(--fssc-navy);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .service-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }
    
    /* --- 5. Recent Decisions Section --- */
    #decisions { background-color: var(--fssc-body-bg); }
    .decisions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
    }
    .decision-card {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    .decision-card-header {
        background-color: var(--fssc-burgundy);
        color: var(--fssc-light-text);
        padding: 20px;
    }
    .decision-card-header h3 {
        color: var(--fssc-light-text);
        margin-bottom: 5px;
    }
    .decision-card-body {
        padding: 20px;
        flex-grow: 1;
    }
    .decision-card-body p {
        margin-bottom: 15px;
    }
    .verdict-tag {
        font-weight: 700;
        color: var(--fssc-navy);
    }

    /* --- 6. Pricing Plans Section (NEW) --- */
    #pricing { background-color: #fff; }
    .pricing-grid {
        display: grid;
        grid-template-columns: 1fr 1fr; /* Two columns */
        gap: 30px;
        max-width: 800px;
        margin: 0 auto;
    }
    .pricing-card {
        background-color: #fff;
        border: 1px solid var(--fssc-border-light);
        border-radius: 8px;
        padding: 30px;
        text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .pricing-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    .pricing-card h3 {
        color: var(--fssc-navy);
        font-size: 1.8em;
    }
    .price {
        font-size: 2.5em;
        font-weight: 700;
        color: var(--fssc-burgundy);
        margin: 10px 0;
    }
    .price span {
        font-size: 0.6em;
        font-weight: 400;
        color: #555;
    }
    .pricing-card a {
        display: inline-block;
        background-color: var(--fssc-gold);
        color: var(--fssc-dark-text);
        text-decoration: none;
        padding: 12px 25px;
        font-weight: 700;
        border-radius: 5px;
        margin-top: 20px;
        transition: background-color 0.3s ease;
    }
    .pricing-card a:hover {
        background-color: #E6C200;
    }
    /* Highlight "Season Pass" */
    .pricing-card.highlight {
        border: 2px solid var(--fssc-gold);
        transform: scale(1.05);
    }

    /* --- 7. FAQ Section --- */
    #faqs { background-color: var(--fssc-body-bg); }
    .faq-container {
        max-width: 800px;
        margin: 0 auto;
    }
    .faq-item {
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        background-color: #fff;
    }
    .faq-question {
        padding: 20px;
        font-weight: 500;
        font-size: 1.2em;
        cursor: pointer;
        position: relative;
    }
    .faq-question::after {
        content: '+';
        font-size: 1.5em;
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        transition: transform 0.2s ease;
    }
    .faq-answer {
        background-color: #f9f9f9;
        padding: 20px;
        display: none; /* Hidden by default */
        border-top: 1px solid #ddd;
    }
    .faq-item.active .faq-answer {
        display: block;
    }
    .faq-item.active .faq-question::after {
        transform: translateY(-50%) rotate(45deg);
    }

    /* --- 8. Bot Section --- */
    #submit-case {
        background-color: var(--fssc-navy);
        background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://github.com/ingramjam/fssc/blob/main/fssc.png?raw=true');
        background-size: 250px; /* Tiled logo */
        background-repeat: repeat;
        background-attachment: fixed;
    }
    #submit-case h2 {
        color: var(--fssc-light-text);
    }

    /* --- 9. Footer --- */
    .footer {
        text-align: center;
        padding: 40px;
        background-color: var(--fssc-dark-text);
        color: #aaa;
        font-size: 0.9em;
    }

    /* ====================================================================
    10. EMBEDDED CHAT BOT STYLES
    ====================================================================
    */
    .chat-container {
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        width: 100%;
        max-width: 700px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        border: none;
        margin: 0 auto; /* Center the container */
    }
    .chat-header {
        background-color: var(--fssc-dark-grey); /* NEW DARK GREY HEADER */
        color: var(--fssc-light-text);
        padding: 10px 20px;
        font-size: 1.3em;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        letter-spacing: 0.5px;
        height: var(--fssc-header-height);
        box-sizing: border-box;
        position: relative;
    }
    .header-left {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .small-fssc-logo {
        height: 40px;
        width: auto;
        cursor: pointer;
        transition: transform 0.2s ease;
        position: relative;
        top: -2px;
    }
    .small-fssc-logo:hover {
        transform: scale(1.05);
    }
    .start-case-btn {
        background-color: var(--fssc-gold);
        color: var(--fssc-dark-text);
        border: none;
        border-radius: 4px;
        padding: 10px 18px;
        font-size: 0.95em;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        text-transform: uppercase;
    }
    .start-case-btn:hover {
        background-color: #E6C200;
        transform: translateY(-1px);
    }
    .chat-messages {
        flex-grow: 1;
        padding: 20px 20px;
        overflow-y: auto;
        height: 60vh; /* Changed to vh for flexibility */
        max-height: 60vh;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        background-color: #fdfdfd;
    }
    .message {
        margin-bottom: 15px;
        padding: 10px 15px;
        border-radius: 18px;
        max-width: 80%;
        word-wrap: break-word;
        line-height: 1.5;
        box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    }
    .bot-message {
        background-color: #E8EAF6;
        color: var(--fssc-dark-text);
        align-self: flex-start;
        margin-right: auto;
        border-bottom-left-radius: 4px;
    }
    .user-message {
        background-color: #fff;
        color: var(--fssc-dark-text);
        align-self: flex-end;
        margin-left: auto;
        border-bottom-right-radius: 4px;
        border: 1px solid #eee;
    }
    .chat-input-area {
        display: flex;
        padding: 15px 20px;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        background-color: #f8f9fa;
    }
    .chat-input-area input {
        flex-grow: 1;
        padding: 12px 15px;
        border: 1px solid #ccc;
        border-radius: 25px;
        font-size: 1em;
        margin-right: 10px;
        outline: none;
        transition: border-color 0.3s ease;
        background-color: var(--fssc-light-text);
    }
    .chat-input-area input:focus {
        border-color: var(--fssc-navy);
        box-shadow: 0 0 0 2px rgba(26, 35, 126, 0.2);
    }
    .chat-input-area button {
        background-color: var(--fssc-navy);
        color: var(--fssc-light-text);
        border: none;
        border-radius: 25px;
        padding: 12px 20px;
        font-size: 1em;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .chat-input-area button:hover {
        background-color: #111A60;
        transform: translateY(-1px);
    }
    .verdict {
        background-color: var(--fssc-burgundy);
        color: var(--fssc-light-text);
        border: 2px solid var(--fssc-gold);
        padding: 25px;
        margin-top: 25px;
        text-align: center;
        font-size: 1.2em;
        border-radius: 8px;
        animation: fadeIn 1.5s ease-out;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    .verdict strong {
        color: var(--fssc-gold);
        font-size: 1.4em;
        display: block;
        margin-top: 10px;
        margin-bottom: 10px;
    }
    .verdict h3 {
        color: var(--fssc-gold);
        margin-top: 15px;
        margin-bottom: 10px;
        font-size: 1.8em;
        letter-spacing: 1px;
    }
    .dispute-options button, .button-options-container button, .payment-prompt-container button {
        display: block;
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        background-color: var(--fssc-navy);
        color: var(--fssc-light-text);
        border: 1px solid var(--fssc-gold);
        border-radius: 5px;
        text-align: left;
        cursor: pointer;
        font-size: 1em;
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    .dispute-options button:hover, .button-options-container button:hover, .payment-prompt-container button:hover {
        background-color: #111A60;
        border-color: var(--fssc-gold);
    }

    /* New styles for payment prompt */
    .payment-prompt-container {
        padding: 10px;
        margin-top: 10px;
        background-color: #fdfdfd;
        border-radius: 8px;
        border: 1px solid #ddd;
    }
    .payment-prompt-container p {
        margin-bottom: 10px;
        font-weight: 500;
    }
    .payment-prompt-container button {
        background-color: var(--fssc-gold);
        color: var(--fssc-dark-text);
        border-color: var(--fssc-gold);
        text-align: center;
        font-weight: 700;
    }
    .payment-prompt-container button.season-pass {
        background-color: var(--fssc-navy);
        color: var(--fssc-light-text);
        border-color: var(--fssc-gold);
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    /* --- 11. RESPONSIVENESS (Media Queries) --- */
    
    /* Tablet & Small Desktop */
    @media (max-width: 992px) {
        .hero-section h1 {
            font-size: 2.8em;
        }
        .hero-section p {
            font-size: 1.2em;
        }
        h2 {
            font-size: 2.2em;
        }
        .pricing-grid {
            grid-template-columns: 1fr; /* Stack pricing cards */
        }
        .pricing-card.highlight {
            transform: scale(1); /* Don't scale on mobile */
        }
    }

    /* Mobile */
    @media (max-width: 768px) {
        section {
            padding: 40px 0; /* Reduced padding */
        }
        .nav-links {
            display: none; /* Hide desktop links */
            flex-direction: column;
            position: absolute;
            top: var(--fssc-header-height);
            left: 0;
            width: 100%;
            background-color: var(--fssc-navy);
            text-align: center;
            padding: 10px 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .nav-links.active {
            display: flex; /* Show mobile menu */
        }
        .nav-links li {
            width: 100%;
        }
        .nav-links a {
            display: block;
            padding: 15px;
            width: 100%;
        }
        .nav-toggle {
            display: block; /* Show burger menu */
        }
        
        .hero-section h1 {
            font-size: 2.2em;
        }
        .hero-section p {
            font-size: 1.1em;
        }
        h2 {
            font-size: 2em;
        }
        
        .chat-messages {
            height: 55vh; /* Taller chat on mobile */
            max-height: 55vh;
        }
        
        .pricing-grid {
            padding: 0 10px; /* Add padding on mobile */
        }
    }
</style>

</head>
<body>

    <nav class="navbar">
        <div class="container">
            <a href="#hero" class="navbar-brand">
                <img src="https://github.com/ingramjam/fssc/blob/main/fssc.png?raw=true" alt="FSSC Logo">
                FSSC
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="#hero">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#decisions">Decisions</a></li>
                <li><a href="#pricing">Pricing</a></li>
                <li><a href="#faqs">FAQs</a></li>
                <li><a href="#submit-case" class="cta-button">Submit Your Case</a></li>
            </ul>
            <button class="nav-toggle" id="navToggle">
                <span class="hamburger"></span>
                <span class="hamburger"></span>
                <span class="hamburger"></span>
            </button>
        </div>
    </nav>

    <section id="hero" class="hero-section">
        <div class="container">
            <h1>THE FANTASY SPORTS SUPREME COURT</h1>
            <p>The Final, Binding Word on Your Fantasy Dispute</p>
            <a href="#submit-case" class="hero-cta">Get Your Ruling</a>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <h2>Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Trade Review</h3>
                    <p>The Court will impartially review trades to determine whether they should be approved or rejected based on objective criteria, including fairness, roster impact, and evidence of collusion.</p>
                </div>
                <div class="service-card">
                    <h3>Dispute Resolution</h3>
                    <p>The Court will resolve all league disputes including alleged abuse of discretion by commissioners, roster discrepancies, scoring errors, and all issues of first impression.</p>
                </div>
                <div class="service-card">
                    <h3>Rule Interpretation</h3>
                    <p>The Court will analyze and apply a league's charter, constitution, or settings to determine whether a commissioner's decision or a league action should be upheld or reversed.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="decisions">
        <div class="container">
            <h2>Recent Decisions</h2>
            <div class="decisions-grid">
                <div class="decision-card">
                    <div class="decision-card-header">
                        <h3>Case #2024-001: Trade Collusion</h3>
                        <span>League of Titans vs. Team "Go Long"</span>
                    </div>
                    <div class="decision-card-body">
                        <p>A trade involving an elite QB for a bench-level WR was submitted days after one owner was mathematically eliminated. The bot's inquiry revealed a non-fantasy benefit.</p>
                        <p><span class="verdict-tag">Verdict:</span> GUILTY of Collusion. The trade was reversed, and the owners were issued a formal warning.</p>
                    </div>
                </div>
                <div class="decision-card">
                    <div class="decision-card-header">
                        <h3>Case #2024-002: IR Slot Abuse</h3>
                        <span>Team "Show Me The Money" vs. League</span>
                    </div>
                    <div class="decision-card-body">
                        <p>An owner placed a player listed as "Questionable" into their IR slot to pick up a free agent. The league's rules strictly stated only "Out" or "IR" designations were eligible.</p>
                        <p><span class="verdict-tag">Verdict:</span> ILLEGAL ROSTER MOVE. The free agent acquisition was reversed, and the player was removed from the IR slot.</p>
                    </div>
                </div>
                <div class="decision-card">
                    <div class="decision-card-header">
                        <h3>Case #2024-003: Waiver Wire Dispute</h3>
                        <span>Team "Waiver Wizards" vs. Commissioner</span>
                    </div>
                    <div class="decision-card-body">
                        <p>The Commissioner manually reversed a waiver claim, citing a "gentleman's agreement." The FSSC bot found no evidence of this agreement in the league's written constitution.</p>
                        <p><span class="verdict-tag">Verdict:</span> COMMISSIONER OVERRULED. The original waiver claim was reinstated as per the league's documented rules.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing">
        <div class="container">
            <h2>Pricing Plans</h2>
            <div class="pricing-grid">
                <div class="pricing-card">
                    <h3>Per Dispute</h3>
                    <p class="price">$50.00 <span>/ per case</span></p>
                    <p>Submit a single dispute for a final, binding ruling.</p>
                    <a href="#submit-case">Get Started</a>
                </div>
                <div class="pricing-card highlight">
                    <h3>Season Pass</h3>
                    <p class="price">$250.00 <span>/ per season</span></p>
                    <p>Unlimited dispute resolution services for your entire league for the whole season.</p>
                    <a href="#submit-case">Get Started</a>
                </div>
            </div>
        </div>
    </section>

    <section id="faqs">
        <div class="container">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">Is the FSSC Bot's ruling really final?</div>
                    <div class="faq-answer">
                        <p>The FSSC Judge Bot is designed to be an impartial third-party arbiter. We recommend all league members agree to abide by its ruling *before* submitting a case to ensure league integrity.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">How does the bot decide a case?</div>
                    <div class="faq-answer">
                        <p>The bot follows a strict logical flow. It first gathers all evidence from you, the "defendant," based on the specific dispute. It then weighs your answers against established definitions of collusion, unfair play, and league settings (like IR eligibility). The final verdict is based on a scoring of these "indicators" (e.g., admitting to a non-fantasy benefit, stating a trade was unfair, etc.).</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">What disputes can I submit?</div>
                    <div class="faq-answer">
                        <p>Currently, the FSSC Judge Bot is fully operational for **Trade Collusion / Unfair Trade Practice** disputes. Modules for other common disputes (Waiver Wire, IR Abuse, Tanking, etc.) are in development and will be added soon.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">Is this service free?</div>
                    <div class="faq-answer">
                        <p>The FSSC Judge Bot provides a free, automated analysis. The official, binding rulings are part of our paid service plans.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="submit-case">
        <div class="container">
            <h2>Submit Your Case</h2>
            
            <div class="chat-container">
                <div class="chat-header">
                    <div class="header-left">
                        <img src="https://github.com/ingramjam/fssc/blob/main/fssc.png?raw=true" alt="FSSC Logo" class="small-fssc-logo" id="smallFsscLogo">
                        FSSC Judge Bot
                    </div>
                    <button id="startCaseBtn" class="start-case-btn">START NEW CASE</button>
                </div>
                <div class="chat-messages" id="chatMessages">
                    </div>
                <div class="chat-input-area">
                    <input type="text" id="userInput" placeholder="Type your response here..." disabled>
                    <button id="sendBtn" disabled>Send</button>
                </div>
            </div>
            </div>
    </section>

    <footer class="footer">
        <p>&copy; 2024 FSSC (Fantasy Sports Supreme Court). All Rulings are Final.</p>
    </footer>

<script>
    // --- Page Functionality (FAQ Accordion & Mobile Nav) ---
    
    // FAQ Accordion
    document.querySelectorAll('.faq-question').forEach(button => {
        button.addEventListener('click', () => {
            const faqItem = button.parentElement;
            faqItem.classList.toggle('active');
        });
    });

    // Mobile Nav Toggle
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.getElementById('navLinks');
    navToggle.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });

    // Close mobile menu when a link is clicked
    navLinks.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            if (navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
            }
        });
    });


    // --- Chat Bot Functionality ---
    const chatMessages = document.getElementById('chatMessages');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const startCaseBtn = document.getElementById('startCaseBtn');
    const smallFsscLogo = document.getElementById('smallFsscLogo'); // Get the small logo element

    let userName = '';
    let leagueName = '';
    let disputeData = {}; // Stores specific data for the current dispute
    let conversationStep = 0; // 0: Awaiting start, 1: Asking name, etc.
    let currentDisputeType = ''; // Stores the ID of the selected dispute
    let evidencePoints = 0; // Accumulates evidence for the current dispute

    const leagueRules = {
        trade_veto_rule: "Trades can be vetoed by a simple majority vote of active league members. The Commissioner also holds final veto power in cases of clear collusion.",
        ir_rule_standard: "Players must have an 'Out' or 'IR' designation to be placed in an Injured Reserve slot.",
        tanking_rule_standard: "Active lineups must be set with the best available players, without intentional benching of healthy starters to gain a draft advantage."
    };

    const disputes = [
        { id: 'trade_collusion', name: '1. Trade Collusion / Unfair Practice', comingSoon: false },
        { id: 'ir_abuse', name: '2. Injured Reserve (IR) Slot Abuse', comingSoon: false },
        { id: 'tanking', name: '3. Tanking Allegations', comingSoon: false },
        { id: 'waiver_wire', name: '4. Waiver Wire / Free Agency Rules (Coming Soon!)', comingSoon: true },
        { id: 'roster_management', name: '5. Roster Management / Lineup Issues (Coming Soon!)', comingSoon: true },
    ];

    function addMessage(sender, message, type) {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add('message', type);
        msgDiv.innerHTML = message;
        chatMessages.appendChild(msgDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function botResponse(message, isFinal = false, enableInput = true) {
        setTimeout(() => {
            addMessage('bot', message, 'bot-message');
            userInput.disabled = !enableInput || isFinal;
            sendBtn.disabled = !enableInput || isFinal;
            if (enableInput && !isFinal) {
                userInput.focus();
            }
        }, 500);
    }

    // Function to show Yes/No buttons for specific binary prompts
    function showYesNoButtons(nextStep, userPrompt) {
        botResponse(userPrompt, false, false); // Bot asks the question

        setTimeout(() => {
            const buttonContainer = document.createElement('div');
            buttonContainer.classList.add('button-options-container');

            const yesBtn = document.createElement('button');
            yesBtn.innerText = 'Yes';
            yesBtn.dataset.value = 'yes';
            
            const noBtn = document.createElement('button');
            noBtn.innerText = 'No';
            noBtn.dataset.value = 'no';

            buttonContainer.appendChild(yesBtn);
            buttonContainer.appendChild(noBtn);
            chatMessages.appendChild(buttonContainer);
            chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll to show buttons

            [yesBtn, noBtn].forEach(btn => {
                btn.addEventListener('click', () => {
                    const answer = btn.dataset.value;
                    addMessage('user', btn.innerText, 'user-message');
                    buttonContainer.remove(); // Remove buttons after click
                    conversationStep = nextStep;
                    processConversation(answer); // Continue conversation with button's value
                });
            });
        }, 800);
    }

    // NEW: Function to show payment prompt (Demo Mode)
    function showPaymentPrompt() {
        botResponse("The FSSC has carefully deliberated on your case. Your verdict is ready. This is a binding, official ruling.", false, false);
        
        setTimeout(() => {
            const paymentContainer = document.createElement('div');
            paymentContainer.classList.add('payment-prompt-container');
            
            paymentContainer.innerHTML = `<p>Please select a plan to view your verdict:</p>`;
            
            const singleBtn = document.createElement('button');
            singleBtn.innerText = '$50 Single Case Verdict (DEMO)';
            singleBtn.classList.add('payment-btn');

            const seasonBtn = document.createElement('button');
            seasonBtn.innerText = '$250 Season Pass (DEMO)';
            seasonBtn.classList.add('payment-btn', 'season-pass');

            paymentContainer.appendChild(singleBtn);
            paymentContainer.appendChild(seasonBtn);
            chatMessages.appendChild(paymentContainer);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            [singleBtn, seasonBtn].forEach(btn => {
                btn.addEventListener('click', () => {
                    paymentContainer.remove();
                    botResponse("Thank you for your selection. Accessing your verdict...", false, false);
                    setTimeout(deliverVerdict, 2000);
                });
            });
        }, 1000);
    }

    function resetChat() {
        chatMessages.innerHTML = '';
        userName = '';
        leagueName = '';
        disputeData = {};
        conversationStep = 0;
        currentDisputeType = '';
        evidencePoints = 0;
        botResponse(`Welcome to the Fantasy Sports Supreme Court. I am Judge Bot. Click "START NEW CASE" to begin your trial.`, false, false); // Disable input until start
        startCaseBtn.style.display = 'inline-block'; // Ensure button is visible
        userInput.value = ''; // Clear user input field
        userInput.disabled = true; // Explicitly disable
        sendBtn.disabled = true; // Explicitly disable
    }


    function startCaseFlow() {
        chatMessages.innerHTML = ''; // Clear previous messages
        startCaseBtn.style.display = 'none'; // Hide the start button while case is active
        botResponse(`Greetings. Please state your full name:`, false, true);
        conversationStep = 1; // Move to the first actual input step
    }

    function displayDisputeOptions() {
        let optionsHtml = "<p>Please select the dispute you wish to address by clicking the relevant button:</p><div class='dispute-options'>";
        disputes.forEach(dispute => {
            const isDisabled = dispute.comingSoon;
            optionsHtml += `<button data-dispute-id="${dispute.id}" ${isDisabled ? 'disabled' : ''}>${dispute.name}</button>`;
        });
        optionsHtml += "</div>";
        botResponse(optionsHtml, false, false); // Input disabled, user must click button

        setTimeout(() => { // Attach event listeners after buttons are rendered
            document.querySelectorAll('.dispute-options button').forEach(button => {
                if(button.disabled) {
                    button.style.backgroundColor = '#6c757d'; // A subtle grey for disabled
                    button.style.borderColor = '#6c757d';
                    button.style.cursor = 'not-allowed';
                    button.style.opacity = '0.7';
                }
                button.onclick = (event) => {
                    if (event.target.disabled) {
                        botResponse(`My apologies, that module is still under development. Please select an active dispute type.`, false, false);
                        return;
                    }
                    
                    currentDisputeType = event.target.dataset.disputeId;
                    chatMessages.innerHTML = ''; // Clear options
                    botResponse(`You have selected: '${event.target.innerText.replace('(Coming Soon!)', '')}'.`, false, false);
                    
                    // Route to specific dispute flow start
                    setTimeout(() => {
                        if (currentDisputeType === 'trade_collusion') {
                            showYesNoButtons(4, `A serious charge of **Trade Collusion / Unfair Trade Practice** has been filed against you, ${userName}. Are you prepared to present your defense?`);
                        } else if (currentDisputeType === 'ir_abuse') {
                            showYesNoButtons(100, `An allegation of **Injured Reserve (IR) Slot Abuse** has been made, ${userName}. Do you wish to proceed with your defense?`);
                        } else if (currentDisputeType === 'tanking') {
                            showYesNoButtons(200, `You stand accused of **Tanking Allegations**, ${userName}. Are you ready to address these claims before the court?`);
                        }
                    }, 1000);
                };
            });
        }, 600);
    }

    function handleUserInput() {
        const input = userInput.value.trim();
        if (input === '') return;

        addMessage('user', input, 'user-message');
        userInput.value = ''; // Clear input field

        processConversation(input);
    }

    function processConversation(input) {
        // 'input' will EITHER be text from the user OR a 'yes'/'no' string from a button
        switch (conversationStep) {
            case 0: // If user types before starting a case
                botResponse(`Please click "START NEW CASE" to begin a new trial.`, false, false);
                break;
            case 1: // User provides Name
                userName = input;
                botResponse(`And the name of your esteemed fantasy league?`, false, true);
                conversationStep++;
                break;
            case 2: // League Name
                leagueName = input;
                botResponse(`Thank you, ${userName} from the '${leagueName}' league.`, false, false);
                setTimeout(() => {
                    displayDisputeOptions(); // Present the dispute options
                }, 1000);
                break;
            
            // --- TRADE COLLUSION FLOW (Steps 4-99) ---
            case 4: // Handles 'yes'/'no' from 'Are you prepared?' (Trade Collusion)
                if (input === 'yes') {
                    botResponse(`Very well. Let us examine the trade.<br><br>--- Phase 1: Trade Specifics & Intent ---<br>Please list the exact players you RECEIVED in the trade under scrutiny:`, false, true);
                    conversationStep = 5;
                } else {
                    botResponse(`The court notes your reluctance. Case dismissed for lack of defense. You may appeal at a later date.`, true, false);
                    resetChat(); 
                }
                break;
            case 5: // Players Received
                disputeData.received = input;
                botResponse(`And the players you SENT in return:`, false, true);
                conversationStep++;
                break;
            case 6: // Players Sent
                disputeData.sent = input;
                botResponse(`Please identify the opposing fantasy owner involved in this transaction:`, false, true);
                conversationStep++;
                break;
            case 7: // Opposing Owner
                disputeData.opposingOwner = input;
                botResponse(`Describe your primary strategic motivation for executing this trade. What benefit did you envision for your team, ${userName}?`, false, true);
                conversationStep++;
                break;
            case 8: // User Motivation
                disputeData.userMotivation = input;
                botResponse(`What was your understanding of ${disputeData.opposingOwner}'s motivation for accepting this trade? Why did they agree to the terms?`, false, true);
                conversationStep++;
                break;
            case 9: // Opposing Motivation
                disputeData.opposingMotivation = input;
                botResponse(`--- Phase 2: Fairness & External Factors ---<br>In your assessment, was this trade genuinely perceived as fair and mutually beneficial for *both* teams at the time it was made? Please elaborate.`, false, true);
                conversationStep++;
                break;
            case 10: // Believed Fair (Elaboration)
                disputeData.believedFairElaboration = input;
                if (input.toLowerCase().includes('no') || input.toLowerCase().includes('not fair') || input.toLowerCase().includes('one-sided')) evidencePoints += 1;
                botResponse(`Were there any prior agreements, understandings, or significant communications between you and the opposing owner (unrelated to this specific trade's direct negotiation) that might have influenced its outcome or perception? Be specific.`, false, true);
                conversationStep++;
                break;
            case 11: // Pre-existing agreements (Elaboration)
                disputeData.preExistingAgreementsElaboration = input;
                if (input.toLowerCase().includes('yes') || input.toLowerCase().includes('agreement') || input.toLowerCase().includes('deal')) evidencePoints += 1.5;
                botResponse(`Did you or ${disputeData.opposingOwner} stand to gain any non-fantasy related benefit from this trade (e.g., money, favors, quid pro quo outside the league environment)? Please answer truthfully.`, false, true);
                conversationStep++;
                break;
            case 12: // Non-fantasy benefit (Elaboration)
                disputeData.nonFantasyBenefitElaboration = input;
                if (input.toLowerCase().includes('yes') || input.toLowerCase().includes('money') || input.toLowerCase().includes('favor')) evidencePoints += 3; // Very strong indicator
                botResponse(`Was there any indication or discussion that the opposing owner, ${disputeData.opposingOwner}, was considering 'giving up' on the season, or expressed a desire to intentionally weaken their roster, *before* this trade?`, false, true);
                conversationStep++;
                break;
            case 13: // Giving up season (Elaboration)
                disputeData.givingUpSeasonElaboration = input;
                if (input.toLowerCase().includes('yes') || input.toLowerCase().includes('giving up') || input.toLowerCase().includes('quitting')) evidencePoints += 4; // Extremely strong indicator
                botResponse(`--- Phase 3: League Governance ---<br>Your league's stated rule for trade vetoes is: '${leagueRules.trade_veto_rule}'. In your own words, how do you interpret this rule, particularly concerning 'collusion'?`, false, true);
                conversationStep++;
                break;
            case 14: // Rule Understanding (Trade)
                disputeData.ruleUnderstanding = input;
                botResponse(`Has your league ever previously overturned a trade, or set a clear precedent, regarding what constitutes an 'unfair' or 'collusive' transaction? If so, describe it briefly.`, false, true);
                conversationStep++;
                break;
            case 15: // Precedent Exists (Trade)
                disputeData.precedentDescription = input;
                botResponse(`Thank you for your comprehensive testimony, ${userName}. The court has recorded all statements.<br><br>Do you have any final remarks or additional evidence you wish to present regarding this trade dispute?`, false, true);
                conversationStep++;
                break;
            case 16: // Final Statement (Trade)
                disputeData.finalStatement = input;
                botResponse(`Your case for the **Trade Collusion** dispute is now closed for testimony. The FSSC Judge Bot will now deliberate...`, false, false);
                setTimeout(showPaymentPrompt, 3000);
                break;

            // --- IR SLOT ABUSE FLOW (Steps 100-199) ---
            case 100: // Handles 'yes'/'no' from 'Do you wish to proceed?' (IR Abuse)
                if (input === 'yes') {
                    botResponse(`The court will hear your defense against the charge of IR Slot Abuse.<br><br>--- Phase 1: Player & Roster Actions ---<br>Please state the name of the player you placed in your Injured Reserve slot:`, false, true);
                    conversationStep = 101;
                } else {
                    botResponse(`The court notes your decision not to defend. Case dismissed with a finding of guilt.`, true, false);
                    resetChat();
                }
                break;
            case 101: // IR Player Name
                disputeData.irPlayer = input;
                botResponse(`What was the official injury designation (e.g., 'Questionable', 'Doubtful', 'Out', 'IR') for ${disputeData.irPlayer} *at the exact time* you placed them in the IR slot?`, false, true);
                conversationStep++;
                break;
            case 102: // IR Player Designation
                disputeData.irDesignation = input.toLowerCase();
                if (!disputeData.irDesignation.includes('out') && !disputeData.irDesignation.includes('ir')) evidencePoints += 2;
                botResponse(`Did you make any roster move (e.g., add/drop a player) immediately after placing ${disputeData.irPlayer} in the IR slot? If so, describe it.`, false, true);
                conversationStep++;
                break;
            case 103: // Subsequent Roster Move
                disputeData.rosterMoveAfterIR = input;
                if (input.toLowerCase().includes('added') || input.toLowerCase().includes('picked up')) evidencePoints += 1;
                botResponse(`--- Phase 2: League Rules & Intent ---<br>Your league's standard IR rule is: '${leagueRules.ir_rule_standard}'. Do you believe your action adhered to both the letter and spirit of this rule? Explain.`, false, true);
                conversationStep++;
                break;
            case 104: // Adherence to IR Rule
                disputeData.adherenceToIRRule = input;
                if (input.toLowerCase().includes('no') || input.toLowerCase().includes('stretched')) evidencePoints += 1.5;
                botResponse(`What was your primary motivation for utilizing the IR slot for ${disputeData.irPlayer} at that specific time?`, false, true);
                conversationStep++;
                break;
            case 105: // Motivation for IR move
                disputeData.irMotivation = input;
                if (input.toLowerCase().includes('extra roster spot') || input.toLowerCase().includes('add another player')) evidencePoints += 1;
                botResponse(`Has your league established any unwritten rules or precedents regarding the use of IR slots, perhaps through past discussions or commissioner rulings?`, false, true);
                conversationStep++;
                break;
            case 106: // IR Precedent
                disputeData.irPrecedent = input;
                if (input.toLowerCase().includes('yes') && disputeData.irPrecedent.toLowerCase().includes('strict')) evidencePoints += 0.5;
                botResponse(`Thank you for your testimony, ${userName}. The court has reviewed your statements regarding the IR slot. Do you have any final statement or defense you wish to offer?`, false, true);
                conversationStep++;
                break;
            case 107: // Final Statement (IR)
                disputeData.finalStatement = input;
                botResponse(`Your case for the **IR Slot Abuse** dispute is now closed for testimony. The FSSC Judge Bot will now deliberate...`, false, false);
                setTimeout(showPaymentPrompt, 3000);
                break;

            // --- TANKING ALLEGATIONS FLOW (Steps 200-299) ---
            case 200: // Handles 'yes'/'no' from 'Are you ready?' (Tanking)
                if (input === 'yes') {
                    botResponse(`The court will now hear your defense against charges of Tanking. The integrity of competitive balance is paramount.<br><br>--- Phase 1: Lineup Decisions ---<br>Which specific week or weeks are you being accused of tanking your lineup? Please specify.`, false, true);
                    conversationStep = 201;
                } else {
                    botResponse(`The court cannot proceed without your defense. A default judgment of guilt is hereby entered.`, true, false);
                    resetChat();
                }
                break;
            case 201: // Week(s) of alleged tanking
                disputeData.tankingWeeks = input;
                botResponse(`For the week(s) specified, please list the players you started and the players on your bench who were healthier and projected to score higher.`, false, true);
                conversationStep++;
                break;
            case 202: // Started vs. Benched Players
                disputeData.lineupComparison = input;
                if (input.toLowerCase().includes('benched starter') || input.toLowerCase().includes('sat a healthy player')) evidencePoints += 2;
                botResponse(`Did you attempt to acquire any players from free agency or waivers during the week(s) in question that would have improved your active lineup? Describe any attempts.`, false, true);
                conversationStep++;
                break;
            case 203: // Waiver/FA attempts
                disputeData.faWaiverAttempts = input;
                if (input.toLowerCase().includes('no attempts') || input.toLowerCase().includes('did not try')) evidencePoints += 1;
                botResponse(`--- Phase 2: Intent & League Standing ---<br>What was your current standing in the league (e.g., playoff bound, eliminated, on the bubble) during the week(s) these allegations refer to?`, false, true);
                conversationStep++;
                break;
            case 204: // League Standing
                disputeData.leagueStanding = input;
                if (input.toLowerCase().includes('eliminated') || input.toLowerCase().includes('out of playoffs')) evidencePoints += 0.5;
                botResponse(`What was your strategic objective for your lineup decisions during these weeks? Were you attempting to 'stream' matchups, experiment, or manage injuries in good faith? Explain your strategy.`, false, true);
                conversationStep++;
                break;
            case 205: // Strategic Objective
                disputeData.strategicObjective = input;
                if (input.toLowerCase().includes('better draft pick') || input.toLowerCase().includes('lose games')) evidencePoints += 3; // Very strong
                botResponse(`--- Phase 3: League Governance ---<br>Your league's standard rule against tanking states: '${leagueRules.tanking_rule_standard}'. How do you understand and apply this rule to your roster decisions?`, false, true);
                conversationStep++;
                break;
            case 206: // Tanking Rule Understanding
                disputeData.tankingRuleUnderstanding = input;
                botResponse(`Has your league ever addressed tanking before, either through official warnings, rule clarifications, or commissioner intervention?`, false, true);
                conversationStep++;
                break;
            case 207: // Tanking Precedent
                disputeData.tankingPrecedent = input;
                botResponse(`Thank you for your extensive testimony, ${userName}. The court has recorded all statements regarding the tanking allegations. Do you have any final comments or additional evidence to present?`, false, true);
                conversationStep++;
                break;
            case 208: // Final Statement (Tanking)
                disputeData.finalStatement = input;
                botResponse(`Your case for the **Tanking Allegations** dispute is now closed for testimony. The FSSC Judge Bot will now deliberate...`, false, false);
                setTimeout(showPaymentPrompt, 3000);
                break;
        }
    }

    function deliverVerdict() {
        let verdictType = "No Verdict (Error)";
        let ruling = "An error occurred during deliberation.";
        let reasoning = "Please ensure all case details were provided correctly.";

        if (currentDisputeType === 'trade_collusion') {
            if (evidencePoints >= 6) { // High evidence: non-fantasy benefit, giving up
                verdictType = "FINDING: GUILTY of Severe Trade Collusion.";
                ruling = `The trade involving ${disputeData.received} (received by you) and ${disputeData.sent} (sent by you) is **IMMEDIATELY REVERSED**, and players will be returned to their original teams.`;
                reasoning = `The Court finds overwhelming evidence, including admissions of non-fantasy benefits or intent to weaken a team, which clearly violates the spirit of fair competition and constitutes blatant collusion. Such actions severely damage league integrity.`;
            } else if (evidencePoints >= 3) { // Moderate evidence: non-fantasy, or not fair, or pre-existing agreement
                verdictType = "FINDING: GUILTY of Unfair Trade Practice & Potential Collusion.";
                ruling = `The trade involving ${disputeData.received} and ${disputeData.sent} is **REVERSED**.`;
                reasoning = `While outright, egregious collusion may not be definitively proven, the cumulative evidence strongly suggests a trade that was not mutually beneficial and had potential external influences or was made in bad faith. This harms competitive balance.`;
            } else if (evidencePoints >= 1) { // Low evidence: perception of unfairness
                verdictType = "FINDING: UNFAIR TRADE. (No Collusion Proven).";
                ruling = `The trade involving ${disputeData.received} and ${disputeData.sent} is **STRONGLY RECOMMENDED TO BE REVERSED** by the league Commissioner.`;
                reasoning = `The Court finds the trade to be significantly one-sided based on the defendant's own testimony or other circumstantial factors, even without conclusive evidence of malicious collusion. It creates an imbalance that threatens league health, and Commissioner intervention is advised.`;
            } else {
                verdictType = "FINDING: NOT GUILTY of Trade Collusion or Unfair Practice.";
                ruling = `The trade involving ${disputeData.received} and ${disputeData.sent} **STANDS**.`;
                reasoning = `Despite allegations, the Court finds insufficient evidence of collusion or intentionally unfair practices. The trade, while potentially impactful, appears to be a legitimate strategic maneuver within the boundaries of fair play.`;
            }
        } else if (currentDisputeType === 'ir_abuse') {
            if (evidencePoints >= 3.5) { // High evidence: wrong designation AND roster move AND admitted intent
                verdictType = "FINDING: GUILTY of Injured Reserve Slot Abuse.";
                ruling = `The placement of ${disputeData.irPlayer} in the IR slot is **REVERSED**, and any subsequent roster move made immediately after is **VOIDED**.`;
                reasoning = `The Court finds clear violation of league IR rules, specifically concerning player designation, coupled with evidence of exploiting the slot for improper roster augmentation. This undermines fair roster management.`;
            } else if (evidencePoints >= 2) { // Moderate evidence: wrong designation OR admitted intent
                verdictType = "FINDING: GUILTY of Technical IR Slot Violation.";
                ruling = `The placement of ${disputeData.irPlayer} in the IR slot is **REVERSED**.`;
                reasoning = `While intent to gain a blatant advantage may not be fully established, the player's official designation at the time of the move did not meet the league's established IR criteria, constituting a rule violation.`;
            } else {
                verdictType = "FINDING: NOT GUILTY of Injured Reserve Slot Abuse.";
                ruling = `The placement of ${disputeData.irPlayer} in the IR slot **STANDS**.`;
                reasoning = `The Court finds that the player's designation and the owner's actions were within the confines of the league's established IR rules and common fantasy practice. No abuse was detected.`;
            }
        } else if (currentDisputeType === 'tanking') {
            if (evidencePoints >= 4) { // High evidence: benched starters + admitted objective
                verdictType = "FINDING: GUILTY of Intentional Tanking.";
                ruling = `The lineup(s) for week(s) ${disputeData.tankingWeeks} are **DEEMED ILLEGITIMATE**. The Commissioner is instructed to manually adjust the results for said week(s) using an optimal lineup for the defendant, or impose a severe penalty (e.g., loss of draft pick).`;
                reasoning = `The Court finds compelling evidence of deliberate manipulation of competitive balance, specifically through the benching of healthy, higher-projected players with the admitted or strongly implied intent to gain an unfair draft advantage. This gravely damages league integrity.`;
            } else if (evidencePoints >= 2) { // Moderate evidence: benched starters OR no waiver attempts in dire situation
                verdictType = "FINDING: GUILTY of Questionable Lineup Practices.";
                ruling = `The defendant is issued a **FORMAL WARNING** regarding their lineup decisions for week(s) ${disputeData.tankingWeeks}. A repeat offense will result in severe penalties.`;
                reasoning = `While explicit intent to tank is hard to prove, the lineup decisions for the specified weeks raised significant concerns regarding competitive effort, particularly given the availability of healthier or higher-scoring players. Future vigilance is required.`;
            } else {
                verdictType = "FINDING: NOT GUILTY of Tanking Allegations.";
                ruling = `The lineup decisions for week(s) ${disputeData.tankingWeeks} **STAND**.`;
                reasoning = `The Court finds insufficient evidence to conclude that the defendant intentionally manipulated their lineup to lose. While some decisions may be debated, they fall within the realm of strategic play or roster management, not deliberate tanking.`;
            }
        }

        const verdictMessage = `
            <div class="verdict">
                <p>The Fantasy Sports Supreme Court has reached a verdict in the case of **${leagueName} League, ${userName}'s ${currentDisputeType.replace(/_/g, ' ').toUpperCase()} Dispute.**</p>
                <p>Based on the evidence presented and FSSC legal precedent, the Judge Bot finds:</p>
                <h3>${verdictType}</h3>
                <p><strong>REASONING:</strong> ${reasoning}</p>
                <p><strong>ORDER:</strong> ${ruling}</p>
                <p style="margin-top: 15px; font-weight: bold;">This ruling is final and binding for the '${leagueName}' league. Court is adjourned.</p>
            </div>
        `;
        addMessage('bot', verdictMessage, 'bot-message');
        startCaseBtn.style.display = 'inline-block'; // Re-enable "Start New Case" button after verdict
        userInput.disabled = true; // Ensure input is disabled after verdict
        sendBtn.disabled = true;
    }


    // Event Listeners
    sendBtn.addEventListener('click', handleUserInput);
    userInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' && !userInput.disabled) {
            handleUserInput();
        }
    });
    startCaseBtn.addEventListener('click', startCaseFlow);
    smallFsscLogo.addEventListener('click', resetChat); // Small logo now triggers resetChat


    // Initial state on page load
    document.addEventListener('DOMContentLoaded', () => {
        resetChat(); // Puts the initial "Click Start New Case" message and disables input
    });
</script>
</body>
</html>
